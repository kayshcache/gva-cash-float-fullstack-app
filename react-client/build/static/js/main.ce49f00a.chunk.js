(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{108:function(e,t,n){e.exports=n(126)},113:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=(n(113),n(24)),l=n(30),u=n(14),s=n.n(u),m=n(26),p=n(59),d=n(22),f=n(77),h=n.n(f),g=function(){return window.history.replaceState({},document.title,window.location.pathname)},E=r.a.createContext(),b=function(){return Object(a.useContext)(E)},v=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?g:n,o=Object(p.a)(e,["children","onRedirectCallback"]),i=Object(a.useState)(),l=Object(d.a)(i,2),u=l[0],f=l[1],b=Object(a.useState)(),v=Object(d.a)(b,2),O=v[0],y=v[1],j=Object(a.useState)(),k=Object(d.a)(j,2),w=k[0],x=k[1],S=Object(a.useState)(!0),C=Object(d.a)(S,2),T=C[0],N=C[1],L=Object(a.useState)(!1),_=Object(d.a)(L,2),A=_[0],R=_[1];Object(a.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()(o);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,f(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,y(i);case 19:N(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},R(!0),e.prev=2,e.next=5,w.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,R(!1),e.finish(10);case 13:return e.next=15,w.getUser();case 15:n=e.sent,y(n),f(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,w.handleRedirectCallback();case 3:return e.next=5,w.getUser();case 5:t=e.sent,N(!1),f(!0),y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{isAuthenticated:u,user:O,loading:T,popupOpen:A,loginWithPopup:D,handleRedirectCallback:I,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t)},O=function(e){var t=e.component,n=e.path,c=Object(p.a)(e,["component","path"]),o=b(),i=o.loading,u=o.isAuthenticated,d=o.loginWithRedirect;Object(a.useEffect)((function(){i||u||function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,u,d,n]);return r.a.createElement(l.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))},y=n(185),j=n(51),k=n(79),w=n(165),x=n(174),S=n(175),C=n(97),T=n(177),N=n(176),L=n(81),_=n.n(L),A=n(83),R=n.n(A),D=n(82),I=n.n(D),G=n(188),P=n(28),H=n(173),U=n(168),W=n(171),B=n(172),F=Object(w.a)({root:{width:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),J=function(e){var t=e.thing,n=F();return r.a.createElement(U.a,null,r.a.createElement(W.a,{className:n.root,variant:"outlined"},r.a.createElement(B.a,null,r.a.createElement(C.a,{className:n.title,gutterBottom:!0},t.thingName))))},z=function(e){return{type:"CREATE_THING",payload:{thingName:e}}},M=function(e){return{type:"LOAD_THINGS_SUCCESS",payload:{things:e}}},V="https://dathings.ue.r.appspot.com",Y=function(e){return function(){alert(e)}},Z=function(){return function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_THINGS_IN_PROGRESS"}),e.next=4,fetch("".concat(V,"/things"));case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,t(M(r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"LOAD_THINGS_FAILURE"}),t(Y(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(V,"/things/").concat(e),{method:"delete",mode:"cors"});case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n({type:"DELETE_THING",payload:{thing:r}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(Y(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},X=Object(P.b)((function(e){return{things:e.things,isLoading:e.isLoading}}),(function(e){return{startLoadingThings:function(){return e(Z())},onDeletePressed:function(t){return e(K(t))}}}))((function(e){var t=e.things,n=void 0===t?[]:t,c=e.isLoading,o=e.onDeletePressed,i=(e.onDisplayAlertClicked,e.startLoadingThings);Object(a.useEffect)((function(){i()}),[i]);var l=r.a.createElement("div",null,"Loading things..."),u=r.a.createElement(H.a,{"aria-label":"home list of things"},n.map((function(e){return r.a.createElement(J,{key:e._id,thing:e,onDeletePressed:o})})));return c?l:u})),$=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function q(){var e=$(),t=b(),n=t.isAuthenticated,a=t.loginWithRedirect,c=t.logout,o=n?"Logout":"Login",l=r.a.useState({left:!1}),u=Object(d.a)(l,2),s=u[0],m=u[1],p=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&m(Object(k.a)({},s,Object(j.a)({},e,t)))}};return r.a.createElement("div",null,r.a.createElement(x.a,{position:"fixed",color:"inherit"},r.a.createElement(S.a,null,r.a.createElement(N.a,{onClick:p("left",!0),edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(_.a,null)),r.a.createElement(C.a,{variant:"h6",className:e.title},"The Things"),r.a.createElement(N.a,{component:I.a,href:"https://github.com/kayshcache/mern-fullstack-template-v1"}),r.a.createElement(N.a,{component:i.b,to:"/profile"},r.a.createElement(R.a,null)),r.a.createElement(T.a,{onClick:function(){n?c():a({})},color:"inherit"},o))),r.a.createElement(G.a,{anchor:"left",open:s.left,onClose:p("left",!1),onOpen:p("left",!0)},r.a.createElement(X,null)),r.a.createElement(S.a,null),r.a.createElement(S.a,null))}var Q=function(){return r.a.createElement("footer",null,r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},"Home"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/about"},"About"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/things"},"Manage Things"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/users"},"Manage Users"),"\xa0\ud83d\udc80\xa0",r.a.createElement(i.b,{to:"/profile"},"Profile"),"\xa0\ud83d\udc80\xa0",r.a.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))},ee=n(84),te=n(85),ne=n(94),ae=n(95),re=n(178),ce=function(e){Object(ae.a)(n,e);var t=Object(ne.a)(n);function n(){var e;return Object(ee.a)(this,n),(e=t.call(this)).state={},e}return Object(te.a)(n,[{key:"render",value:function(){return r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h3"},"List of Things"),r.a.createElement(C.a,{variant:"body1"},"Login to manage the Grid of Things!")),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(X,null)))}}]),n}(r.a.Component);var oe=function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h1",null,"About page"),r.a.createElement("p",null,"Organize your things."))};function ie(){var e=b(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n.picture,alt:"Profile"}),r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.email),r.a.createElement("code",null,JSON.stringify(n,null,2)))}var le=n(184),ue=n(180),se=n(181),me=n(182),pe=n(183),de=n(179);function fe(e){var t=e.open,n=e.onClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:t},r.a.createElement(ue.a,null,"Confirm Delete Thing"),r.a.createElement(se.a,null,r.a.createElement(me.a,null,"Are you sure you want to delete the thing? This action cannot be undone.")),r.a.createElement(pe.a,null,r.a.createElement(T.a,{onClick:function(){n(!1)},color:"primary"},"Cancel"),r.a.createElement(T.a,{variant:"contained",onClick:function(){n(!0)},color:"primary"},"Confirm"))))}var he=Object(w.a)({root:{minWidth:100},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),ge=function(e){var t=e.thing,n=e.onDeletePressed,c=he(),o=Object(a.useState)(!1),i=Object(d.a)(o,2),l=i[0],u=i[1];return r.a.createElement(re.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(W.a,{className:c.root},r.a.createElement(B.a,null,r.a.createElement(C.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"thingName: ",t.thingName),r.a.createElement(C.a,{className:c.pos,color:"textSecondary"},"Thing object:"),r.a.createElement(C.a,{variant:"body2",component:"p"},Object.entries(t).map((function(e){return r.a.createElement("span",{key:e[0]+t._id},e.join(": "),r.a.createElement("br",null))})))),r.a.createElement(le.a,null,r.a.createElement(T.a,{size:"small",onClick:function(){u(!0)}},"Delete"),r.a.createElement(fe,{open:l,onClose:function(e){u(!1),e&&n(t._id)}}))))},Ee=Object(P.b)((function(e){return{things:e.things,isLoading:e.isLoading}}),(function(e){return{startLoadingThings:function(){return e(Z())},onDeletePressed:function(t){return e(K(t))}}}))((function(e){var t=e.things,n=void 0===t?[]:t,c=e.isLoading,o=e.onDeletePressed,i=(e.onDisplayAlertClicked,e.startLoadingThings);Object(a.useEffect)((function(){i()}),[i]);var l=r.a.createElement("div",null,"Loading things..."),u=r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(ge,{key:e._id,thing:e,onDeletePressed:o})})));return c?l:u})),be=n(187),ve=n(86),Oe=n.n(ve),ye=Object(w.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),je=Object(P.b)((function(e){return{things:e.things}}),(function(e){return{onCreatePressed:function(t){return e(function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n){var a,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.stringify({thingName:e}),t.next=4,fetch("".concat(V,"/things"),{headers:{"Content-Type":"application/json"},method:"post",mode:"cors",body:a});case 4:return r=t.sent,t.next=7,r.json();case 7:c=t.sent,n(z(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(Y(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.things,n=e.onCreatePressed,c=Object(a.useState)(""),o=Object(d.a)(c,2),i=o[0],l=o[1],u=ye();return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(be.a,{label:"Name a new thing",value:i,onChange:function(e){return l(e.target.value)}}),r.a.createElement(T.a,{variant:"contained",onClick:function(){t.some((function(e){return e.thingName===i||!i}))||(n(i),l(""))},className:"new-thing-button"},"Create Thing"),r.a.createElement("input",{accept:".csv",className:u.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(N.a,{"aria-label":"upload csv",component:"span"},r.a.createElement(Oe.a,null))))}));function ke(){return r.a.createElement(re.a,{container:!0,spacing:2},r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h3"},"Grid of Things"),r.a.createElement(C.a,{variant:"p"},"Add to, modify, or delete these things:")),r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(je,null)),r.a.createElement(Ee,null))}var we=function(){return b().loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(q,null),r.a.createElement(y.a,{maxWidth:"lg"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:ce}),r.a.createElement(l.a,{path:"/about",component:oe}),r.a.createElement(O,{path:"/profile",component:ie}),r.a.createElement(O,{path:"/things",component:ke})),r.a.createElement(Q,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=n(57),Se=n(87),Ce=n(23),Te=n(88),Ne=n.n(Te),Le=n(89),_e=n.n(Le),Ae=n(90),Re=n(91),De={things:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CREATE_THING":var r=a.thingName;return e.concat(r);case"DELETE_THING":var c=a.thing;return e.filter((function(e){return e._id!==c._id}));case"LOAD_THINGS_SUCCESS":var o=a.things;return o;case"LOAD_THINGS_IN_PROGRESS":case"LOAD_THINGS_FAILURE":default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"LOAD_THINGS_IN_PROGRESS":return!0;case"LOAD_THINGS_SUCCESS":case"LOAD_THINGS_FAILURE":return!1;default:return e}}},Ie={key:"root",storage:Ne.a,stateReconciler:_e.a},Ge=Object(Ce.combineReducers)(De),Pe=Object(xe.a)(Ie,Ge),He=n(93),Ue=n(186),We=n(92),Be=n.n(We),Fe=n(65),Je=n(20),ze=Object(Je.a)(),Me=Object(He.a)({palette:{type:"dark",primary:{main:"#03DAC6"},secondary:{main:"#b388ff"},background:{default:"#121212"}},status:{danger:Be.a}}),Ve=Object(Ce.createStore)(Pe,Object(Re.composeWithDevTools)(Object(Ce.applyMiddleware)(Ae.a))),Ye=Object(xe.b)(Ve);o.a.render(r.a.createElement(v,{domain:Fe.domain,client_id:Fe.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){ze.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(P.a,{store:Ve},r.a.createElement(Se.PersistGate,{loading:r.a.createElement("div",null,"Loading"),persistor:Ye},r.a.createElement(Ue.a,{theme:Me},r.a.createElement(we,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e){e.exports=JSON.parse('{"domain":"dev-jll7g-cd.au.auth0.com","clientId":"6VLEU1tvXZHR14shwBPIN6VhAYZ7rYEl"}')}},[[108,1,2]]]);
//# sourceMappingURL=main.ce49f00a.chunk.js.map